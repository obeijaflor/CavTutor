{% extends 'CavTutor/generics/base.html' %}

<style>
table, th, td {
    border: 1px solid black;
    border-collapse: collapse;
}
th, td {
    padding: 5px;
}
th {
    text-align: left;
}
</style>

{% block body_block %}
	<h1>{% block title %}User Login | CavTutor{% endblock %}</h1>

    {% if status == "incomplete" %}
        <p><strong> you need to give a query </strong></p>
    {% elif status == "incorrect" %}
        <p><strong> invalid query </strong></p>
    {% endif %}

    <p> Search:  </p>
    <div id="form-container" style="padding-bottom: 10px;">


        <form action="{% url 'search' %}" method="post" >

            {% csrf_token %}

            <!-- need to make error msg go on same line for all fields -->
            <table>
                {{ form.as_table }}
            </table>
           <input type="submit" value="Submit" />
        </form>
    </div>

    {% block items %}
    <table style="width:100%">
    <tr>
            <th>Tutor Name</th>
            <th>Course Name</th>
            <th>Adv Rate</th>
    </tr>
    {% for res in results %}
        <tr>
            <td>{{res.user.lname}},{{res.user.fname}}</td>
            <td>{{res.course}}</td>
            <td>{{res.institution.name}}</td>
            <td>{{res.adv_rate}}</td>
        </tr>
    {% endfor %}
    </table>
{% endblock %}

{% endblock %}
